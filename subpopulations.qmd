# Subpopulations
{{< include macros.qmd >}}
{{< include macros_statistics.qmd >}}


## Subpopulations {#sec-subpopulations}

When we have a statistical population with a joint variate, it is often of interest to focus on a subset of units that share the same value of a particular variate.

Consider for instance the following population, a modified version of the glass-forensics example:

- *units:* glass fragments (collected at specific locations)
- *variate:* the joint variate $(\textrm{\small Ca}, \textrm{\small Si}, \textrm{\small Type})$ consisting of three simple variates:
	+ weight fraction of **Ca**lcium in the fragment (ordinal variate), with three possible values `low`, `medium`, `high`
	+ weight fraction of **Si**licon in the fragment (ordinal variate), with three possible values `low`, `medium`, `high`
    + **Type** of glass fragment (nominal variate), with seven possible values `building_windows_float_processed`, `building_windows_non_float_processed`, `containers`, `tableware`, `headlamps`


| [unit]{.yellow}  |        Ca  |        Si  |                                    Type  |
|:----------------:|:----------:|:----------:|:----------------------------------------:|
|    [1]{.yellow}  |     `low`  |    `high`  |                             `headlamps`  |
|    [2]{.yellow}  |     `low`  |  `medium`  |  `building_windows_non_float_processed`  |
|    [3]{.yellow}  |  `medium`  |  `medium`  |                             `tableware`  |
|    [4]{.yellow}  |  `medium`  |  `medium`  |      `building_windows_float_processed`  |
|    [5]{.yellow}  |     `low`  |  `medium`  |                             `headlamps`  |
|    [6]{.yellow}  |  `medium`  |  `medium`  |                            `containers`  |
|    [7]{.yellow}  |     `low`  |  `medium`  |  `building_windows_non_float_processed`  |
|    [8]{.yellow}  |     `low`  |    `high`  |                             `tableware`  |
|    [9]{.yellow}  |  `medium`  |  `medium`  |                             `tableware`  |
|   [10]{.yellow}  |  `medium`  |  `medium`  |                             `tableware`  |
: Glass fragments simplified {#tbl-glass-simple .sm}


Let's say we are interested only on those units that have the **Type** variate equal to `tableware`. Discarding all others we obtain a new, smaller population with four units:

| [unit]{.yellow}  |        Ca  |        Si  |                                    Type  |
|:----------------:|:----------:|:----------:|:----------------------------------------:|
|    [3]{.yellow}  |  `medium`  |  `medium`  |                             `tableware`  |
|    [8]{.yellow}  |     `low`  |    `high`  |                             `tableware`  |
|    [9]{.yellow}  |  `medium`  |  `medium`  |                             `tableware`  |
|   [10]{.yellow}  |  `medium`  |  `medium`  |                             `tableware`  |
: {.sm}



As another example, we could be interested instead in those units that have both **Ca** *and* **Si** variates equal to `medium`. We obtain a smaller population with five units:

| [unit]{.yellow}  |        Ca  |        Si  |                                    Type  |
|:----------------:|:----------:|:----------:|:----------------------------------------:|
|    [3]{.yellow}  |  `medium`  |  `medium`  |                             `tableware`  |
|    [4]{.yellow}  |  `medium`  |  `medium`  |      `building_windows_float_processed`  |
|    [6]{.yellow}  |  `medium`  |  `medium`  |                            `containers`  |
|    [9]{.yellow}  |  `medium`  |  `medium`  |                             `tableware`  |
|   [10]{.yellow}  |  `medium`  |  `medium`  |                             `tableware`  |
: {.sm}



Populations formed in this way are called [**subpopulations**]{.blue} of the original one. They are statistical populations in their own right. The notion of "subpopulation" is a relative notion. Any population can often be considered as a subpopulation of some larger population having additional variates.

:::{.callout-caution}
## {{< fa user-edit >}} Exercise
- From the population of [table @tbl-glass-simple]:
    + Construct he *marginal* population with variate **Ca**
    + Report the frequency distribution for the marginal population above (remember that **Ca** has *three* possible values)
    + Construct the subpopulation with variate **Si** equal to `high`
    + Construct the subpopulation with variate **Type** equal to `headlamps` and the variate **Si** equal to `medium`


*Check your understanding of the reasoning behind the notions of marginal population and subpopulation with this exercise:*

- From the population of [table @tbl-glass-simple], construct the subpopulation with variate **Type** equal to either `headlamps` *or* `tableware`.
:::


## Conditional frequencies

The analysis of subpopulations is important because it often reveals peculiar associations among different variates. For instance, if from the population of [table @tbl-glass-simple] we extract the subpopulation having variate **Type** equal to `headlamps`:

| [unit]{.yellow}  |        Ca  |        Si  |                                    Type  |
|:----------------:|:----------:|:----------:|:----------------------------------------:|
|    [1]{.yellow}  |     `low`  |    `high`  |                             `headlamps`  |
|    [5]{.yellow}  |     `low`  |  `medium`  |                             `headlamps`  |
: {.sm}

we notice that all units have variate **Ca** equal to `low`. It is therefore impossible to observe other values of **Ca** in this new population.^[We are not claiming that this fact will be true if new units are considered; this important question will be discussed later.]

On the other hand, if we extract the subpopulation having variate **Ca** equal to `low` we obtain

| [unit]{.yellow}  |        Ca  |        Si  |                                    Type  |
|:----------------:|:----------:|:----------:|:----------------------------------------:|
|    [1]{.yellow}  |     `low`  |    `high`  |                             `headlamps`  |
|    [2]{.yellow}  |     `low`  |  `medium`  |  `building_windows_non_float_processed`  |
|    [5]{.yellow}  |     `low`  |  `medium`  |                             `headlamps`  |
|    [7]{.yellow}  |     `low`  |  `medium`  |  `building_windows_non_float_processed`  |
|    [8]{.yellow}  |     `low`  |    `high`  |                             `tableware`  |
: {.sm}

so the reverse is *not* true: if **Ca** is equal to `low`, that does *not* mean that it's impossible to observe other **Type** values besides `headlamps`. So in the original population we have, figuratively speaking, that

$$
\text{\small Type}\mo \cat{headlamps}\ \mathrel{\green\Rightarrow}\ 
\text{\small Ca}\mo \cat{low}
\qquad\text{\small but}\qquad
\text{\small Ca}\mo \cat{low}\  \mathrel{\red\nRightarrow}\ 
\text{\small Type}\mo \cat{headlamps}
$$


