<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-09-19">

<title>ADA511 0.1 Data science and data-driven engineering - 15&nbsp; Joint probability distributions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./marginal_conditional_probability.html" rel="next">
<link href="./probability_distributions.html" rel="prev">
<link href="./favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="ada511styles.css">
</head>

<body class="nav-sidebar docked slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./probability_distributions.html"><span class="green"><strong>Inference II</strong></span></a></li><li class="breadcrumb-item"><a href="./joint_probability.html"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">[Joint probability distributions]{.green}</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./ada511logo8_small.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">ADA511 <span class="small grey">0.1</span> <br><span class="small grey">updated 2023-09-19</span></a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dear student<br> and aspiring data engineer</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text"><strong>An invitation</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Accept or discard?</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./framework.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Framework</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./basic_decisions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Basic decision problems</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0th_connection_ML.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title"><span class="red">First connection with machine learning</span></span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text"><span class="green"><strong>Inference I</strong></span></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title"><span class="green">What is an inference?</span></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sentences.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title"><span class="green">Sentences</span></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./truth_inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title"><span class="green">Truth inference</span></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./probability_inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title"><span class="green">Probability inference</span></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./derived_rules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title"><span class="green">Shortcut rules</span></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./monty.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title"><span class="lightblue">Monty Hall and related inference problems</span></span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1st_connection_ML.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title"><span class="red">Second connection with machine learning</span></span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text"><span class="yellow"><strong>Data I</strong></span></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quantities_types.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title"><span class="yellow">Quantities and data types</span></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quantities_types_multi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title"><span class="yellow">Joint quantities and complex data types</span></span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text"><span class="green"><strong>Inference II</strong></span></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./probability_distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title"><span class="green">Probability distributions</span></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./joint_probability.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title"><span class="green">Joint probability distributions</span></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./marginal_conditional_probability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title"><span class="green">Marginal and conditional probabilities</span></span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2nd_connection_ML.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title"><span class="red">Third connection with machine learning</span></span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text"><span class="yellow"><strong>Data II</strong></span></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./populations_variates.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title"><span class="yellow">Populations and variates</span></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title"><span class="yellow">Statistics</span></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./subpopulations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title"><span class="yellow">Subpopulations and conditional frequencies</span></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./samples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title"><span class="yellow">Infinite populations and samples</span></span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text"><span class="green"><strong>Population inference</strong></span></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./recap.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title"><span class="green">A general inference problem</span></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./population_inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title"><span class="green">Inference and populations</span></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exchangeability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title"><span class="green">Exchangeability</span></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./inference_exchangeability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title"><span class="green">Inference under exchangeability</span></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missing_parts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">To be written</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./glass_application_R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title"><span class="red">The optimal predictor machine in action (for nominal quantities)</span></span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
 <span class="menu-text"><span class="lightblue"><strong>Decision theory</strong></span></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./making_decisions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title"><span class="lightblue">Making decisions</span></span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">
 <span class="menu-text"><span class="red"><strong>Machine learning</strong></span></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machine_learning_overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Machine learning - an introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./decision_trees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Decision trees</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./neural_networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Neural networks</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#joint-probability-distributions" id="toc-joint-probability-distributions" class="nav-link active" data-scroll-target="#joint-probability-distributions"><span class="header-section-number">15.1</span> Joint probability distributions</a></li>
  <li><a href="#sec-repr-joint-prob" id="toc-sec-repr-joint-prob" class="nav-link" data-scroll-target="#sec-repr-joint-prob"><span class="header-section-number">15.2</span> Representation of joint probability distributions</a>
  <ul class="collapse">
  <li><a href="#tables" id="toc-tables" class="nav-link" data-scroll-target="#tables">Tables</a></li>
  <li><a href="#scatter-plots-and-similar" id="toc-scatter-plots-and-similar" class="nav-link" data-scroll-target="#scatter-plots-and-similar">Scatter plots and similar</a></li>
  </ul></li>
  <li><a href="#sec-joint-prob-densities" id="toc-sec-joint-prob-densities" class="nav-link" data-scroll-target="#sec-joint-prob-densities"><span class="header-section-number">15.3</span> Joint probability densities</a></li>
  <li><a href="#sec-repr-joint-dens" id="toc-sec-repr-joint-dens" class="nav-link" data-scroll-target="#sec-repr-joint-dens"><span class="header-section-number">15.4</span> Representation of joint probability densities</a>
  <ul class="collapse">
  <li><a href="#multi-line-plots" id="toc-multi-line-plots" class="nav-link" data-scroll-target="#multi-line-plots">Multi-line plots</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-prob-joint" class="quarto-section-identifier"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title"><span class="green">Joint probability distributions</span></span></span></h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">2023-09-19</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="hidden">
<p><span class="math display">\[
\DeclarePairedDelimiters{\set}{\{}{\}}
\DeclareMathOperator*{\argmax}{arg\,max}
\]</span></p>
</div>
<p>So far we have considered probability distributions for quantities of a basic (binary, nominal, ordinal, interval) type. These distributions have a sort of one-dimensional character and can be represented by ordinary histograms, line plots, and scatter plots. We now consider probability distributions for the kind of joint quantities that were discussed in <a href="quantities_types_multi.html#sec-data-multiv">§ &nbsp;<span>13.1</span></a>.</p>
<section id="joint-probability-distributions" class="level2" data-number="15.1">
<h2 data-number="15.1" class="anchored" data-anchor-id="joint-probability-distributions"><span class="header-section-number">15.1</span> Joint probability distributions</h2>
<p>A joint quantity is just a collection or set of quantities of basic types. Saying that a joint quantity has a particular value means that each basic component quantity has a particular value in its specific domain. This is expressed by an <code>and</code> of sentences.</p>
<p>Consider for instance the joint quantity <span style="display:inline-block;"><span class="math inline">\(X\)</span></span> consisting of the age <span style="display:inline-block;"><span class="math inline">\(\color[RGB]{102,204,238}A\)</span></span> and sex <span style="display:inline-block;"><span class="math inline">\(\color[RGB]{34,136,51}S\)</span></span> of a specific person. The fact that <span style="display:inline-block;"><span class="math inline">\(X\)</span></span> has a particular value is expressed by a composite sentence such as</p>
<p><span class="math display">\[
\textsf{\small`The person's age is 25 years and the person's sex is female'}
\]</span></p>
<p>which we can compactly write with an <code>and</code>:</p>
<p><span class="math display">\[
{\color[RGB]{102,204,238}A\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}25\,\mathrm{y}} \land {\color[RGB]{34,136,51}S\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}\mathrm{f}}
\]</span></p>
<p>All the possible composite sentences of this kind are <em>mutually exclusive</em> and <em>exhaustive</em>.</p>
<p>An agent’s uncertainty about <span style="display:inline-block;"><span class="math inline">\(X\)</span>’s</span> true value is therefore represented by a probability distribution over all <code>and</code>-ed sentences of this kind, representing all possible joint values:</p>
<p><span class="math display">\[
\mathrm{P}\bigl({\color[RGB]{102,204,238}A \mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}25\,\mathrm{y}} \land {\color[RGB]{34,136,51}S\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}\mathrm{f}} \nonscript\:\vert\nonscript\:\mathopen{} \mathsfit{I}\bigr) \ , \qquad
\mathrm{P}\bigl({\color[RGB]{102,204,238}A \mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}31\,\mathrm{y}} \land {\color[RGB]{34,136,51}S\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}\mathrm{m}} \nonscript\:\vert\nonscript\:\mathopen{} \mathsfit{I}\bigr) \ , \qquad
\dotsc
\]</span></p>
<p>where <span style="display:inline-block;"><span class="math inline">\(\mathsfit{I}\)</span></span> is the agent’s state of knowledge, and the probabilities sum up to one. We call each of these probabilities a <span class="blue"><strong>joint probability</strong></span>, and their collection a <span class="blue"><strong>joint probability distribution</strong></span>. Usually these probabilities are written in much abbreviated form, and a comma <span style="display:inline-block;">“<span class="math inline">\(\mathbin{\mkern-0mu,\mkern-0mu}\)</span>”</span> is used instead of <span style="display:inline-block;">“<span class="math inline">\(\land\)</span>”</span> (<a href="sentences.html#sec-connecting-sentences">§&nbsp;&nbsp;<span>6.4</span></a>); for instance you can commonly find the following notation:</p>
<p><span class="math display">\[
\mathrm{P}(A\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}25 \mathbin{\mkern-0mu,\mkern-0mu}S\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}\mathrm{f} \nonscript\:\vert\nonscript\:\mathopen{} \mathsfit{I})
\]</span></p>
<p>or even just</p>
<p><span class="math display">\[
\mathrm{P}(25, \mathrm{f} \nonscript\:\vert\nonscript\:\mathopen{} \mathsfit{I})
\]</span></p>
</section>
<section id="sec-repr-joint-prob" class="level2 page-columns page-full" data-number="15.2">
<h2 data-number="15.2" class="anchored" data-anchor-id="sec-repr-joint-prob"><span class="header-section-number">15.2</span> Representation of joint probability distributions</h2>
<p>There is a wide variety of ways of representing joint probability distributions, and new ways are invented (and rediscovered) all the time. In some cases, especially when the quantity has more than three component quantities, it can become impossible to graphically represent the probability distribution in a faithful way. Therefore one often tries to represent only some aspects or features of interest from the full distribution. Whenever you see a plot of a joint probability distribution, you should carefully read what the plot shows and how it was made. Here we only illustrate some examples and ideas for representations.</p>
<section id="tables" class="level3">
<h3 class="anchored" data-anchor-id="tables">Tables</h3>
<p>When a joint quantity consists of <em>two, discrete and finite</em> component quantities, the joint probabilities can be reported as a table.</p>
<p>Example: Consider the next patient that will arrive at a particular hospital. There’s the possibility of arrival by <code>ambulance</code>, <code>helicopter</code>, or <code>other</code> transportation means; and the possibility that the patient will need <code>urgent</code> <code>non-urgent</code> care. These can be seen as two quantities <span style="display:inline-block;"><span class="math inline">\(T\)</span></span> (nominal) and <span style="display:inline-block;"><span class="math inline">\(U\)</span></span> (binary). When these two quantities are taken together; their joint probability distribution is as follows, conditional on the hospital’s data <span style="display:inline-block;"><span class="math inline">\(\mathsfit{I}_{\text{H}}\)</span>:</span></p>
<div id="tbl-urgent-arrival" class="anchored">
<table class="table-sm small table">
<caption>Table&nbsp;15.1: Joint probability distribution for transportation at arrival and urgency</caption>
<colgroup>
<col style="width: 30%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\mathrm{P}(U\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}u \mathbin{\mkern-0mu,\mkern-0mu}T\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}t\nonscript\:\vert\nonscript\:\mathopen{}\mathsfit{I}_{\text{H}})\)</span></td>
<td style="text-align: center;"></td>
<td colspan="3" style="text-align: center;"><strong>transportation at arrival</strong> <span class="math inline">\(T\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">ambulance</td>
<td style="text-align: center;">helicopter</td>
<td style="text-align: center;">other</td>
</tr>
<tr class="odd">
<td rowspan="2" style="text-align: center;"><strong>urgency</strong> <span class="math inline">\(U\)</span></td>
<td style="text-align: center;">urgent</td>
<td style="text-align: center;">0.11</td>
<td style="text-align: center;">0.04</td>
<td style="text-align: center;">0.03</td>
</tr>
<tr class="even">
<td style="text-align: center;">non-urgent</td>
<td style="text-align: center;">0.17</td>
<td style="text-align: center;">0.01</td>
<td style="text-align: center;">0.64</td>
</tr>
</tbody>
</table>
</div>
<p>We see for instance that the most probable possibility is that the next patient will arrive by transportation means other than ambulance and helicopter, and won’t require urgent care:</p>
<p><span class="math display">\[\mathrm{P}(U\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}\textrm{\small non-urgent} \mathbin{\mkern-0mu,\mkern-0mu}T\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}\textrm{\small other}\nonscript\:\vert\nonscript\:\mathopen{}\mathsfit{I}_{\text{H}}) =
0.64\]</span></p>
<p>It is also possible to replace the numerical probability values with graphical representations; for example as shades of a colour, or squares with different areas.</p>
</section>
<section id="scatter-plots-and-similar" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="scatter-plots-and-similar">Scatter plots and similar</h3>
<p>Probability distributions for nominal, ordinal, or discrete-interval quantities can be represented by histograms or line plots, as we saw in <a href="probability_distributions.html#sec-discr-prob-distr">§ &nbsp;<span>14.2</span></a>. Histograms could be generalized to quantities consisting of <em>two</em> joint discrete quantities: a probability could be represented by a <a href="https://mathworld.wolfram.com/Cuboid.html">cuboid or rectangular prism</a> (a sort of small tower with rectangular section), or cylinder, or similar. This representation, even if it can look flamboyant, is often inconvenient because some of the three-dimensional objects can be hidden from view, as in the generic example on the side.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p><img src="2d_hist.png" class="img-fluid" style="width:100.0%"> Example of generalized histogram (from <a href="https://reference.wolfram.com/language/ref/Histogram3D.html">Mathematica</a>)</p>
</div></div><p>Alternatively, one can replace the numerical values of the probabilities in the tabular representation of the previous section with some graphical encoding.</p>
<p>An example is some colour scheme, say <code>white</code> for probability <span style="display:inline-block;"><span class="math inline">\(0\)</span>,</span> <code>black</code> for probability <span style="display:inline-block;"><span class="math inline">\(1\)</span>,</span> and grey levels for intermediate probabilities; or some other colour scheme. This is sometimes called a “density histogram”; see the generic example on the side. This representation can be useful for qualitative or semi-quantitative assessments, for example seeing which joint values have highest probabilities.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p><img src="colour_hist.png" class="img-fluid" style="width:100.0%"> Example of density histogram (from <a href="https://reference.wolfram.com/language/ref/DensityHistogram.html">Mathematica</a>)</p>
</div></div><p>Another example, similar to the scatter plot (<a href="probability_distributions.html#sec-scatter-plot">§ &nbsp;<span>14.4.2</span></a>), is to encode the probability values with a proportional number of points or other shapes, as illustrated here for the probabilities of <a href="#tbl-urgent-arrival">table&nbsp;<span>15.1</span></a>:</p>
<p><img src="scatter_hospital_arrival.png" class="img-fluid" style="width:100.0%"></p>
<p>the points do not need to be scattered in regular fashion as long as it’s clear which quantity value they are associated with. The scatter plot above has 100 points, and therefore we can see for instance that <span style="display:inline-block;"><span class="math inline">\(\mathrm{P}(U\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}\textrm{\small urgent} \mathbin{\mkern-0mu,\mkern-0mu}T\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}\textrm{\small helicopter}\nonscript\:\vert\nonscript\:\mathopen{}\mathsfit{I}_{\text{H}}) = 0.03\)</span>,</span> since the corresponding region has 3 points out of 100.</p>
</section>
</section>
<section id="sec-joint-prob-densities" class="level2" data-number="15.3">
<h2 data-number="15.3" class="anchored" data-anchor-id="sec-joint-prob-densities"><span class="header-section-number">15.3</span> Joint probability densities</h2>
<p>If a joint quantity consists in several continuous interval quantities, then its joint probability distribution is usually represented by a <span class="blue"><strong>joint probability density</strong></span>, which generalize the one-dimensional discussion of <a href="probability_distributions.html#sec-prob-densities">§ &nbsp;<span>14.3</span></a> to several dimensions.</p>
<p>For instance, if <span style="display:inline-block;"><span class="math inline">\(X\)</span></span> and <span style="display:inline-block;"><span class="math inline">\(Y\)</span></span> are two continuous interval quantity, then the notation</p>
<p><span class="math display">\[
\mathrm{p}(X\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}x \mathbin{\mkern-0mu,\mkern-0mu}Y\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}y \nonscript\:\vert\nonscript\:\mathopen{} \mathsfit{I}) = 0.001
\]</span></p>
<p>means that the joint sentence “<span class="midgrey"><span class="math inline">\(X\)</span> has value between <span class="math inline">\(x-\epsilon/2\)</span> and <span class="math inline">\(x+\epsilon/2\)</span>, and <span class="math inline">\(Y\)</span> between <span class="math inline">\(y-\delta/2\)</span> and <span class="math inline">\(y+\delta/2\)</span></span>”, or in symbols</p>
<p><span class="math display">\[
\bigl(x-\tfrac{\epsilon}{2} \mathrel{\nonscript\mkern-2.5mu\textrm{\small&lt;}\nonscript\mkern-2.5mu} X \mathrel{\nonscript\mkern-2.5mu\textrm{\small&lt;}\nonscript\mkern-2.5mu} x+\tfrac{\epsilon}{2}\bigr)
\land
\bigl(y-\tfrac{\delta}{2} \mathrel{\nonscript\mkern-2.5mu\textrm{\small&lt;}\nonscript\mkern-2.5mu} Y \mathrel{\nonscript\mkern-2.5mu\textrm{\small&lt;}\nonscript\mkern-2.5mu} y+\tfrac{\delta}{2}\bigr)
\]</span></p>
<p>has probability <span style="display:inline-block;"><span class="math inline">\(0.001\cdot\epsilon\cdot\delta\)</span>,</span> conditional on the background knowledge <span style="display:inline-block;"><span class="math inline">\(\mathsfit{I}\)</span>.</span> Said otherwise, the rectangular region of values around <span style="display:inline-block;"><span class="math inline">\((x,y)\)</span></span> with widths <span style="display:inline-block;"><span class="math inline">\(\epsilon\)</span></span> and <span style="display:inline-block;"><span class="math inline">\(\delta\)</span></span> is assigned a probability <span style="display:inline-block;"><span class="math inline">\(0.001\cdot\epsilon\cdot\delta\)</span>.</span></p>
<p>Remember that a density typically has physical units, as in the one-dimensional case (<a href="probability_distributions.html#sec-prob-densities">§ &nbsp;<span>14.3</span></a>). For instance, if <span style="display:inline-block;"><span class="math inline">\(X\)</span></span> above is a temperature measured in kelvin (<span style="display:inline-block;"><span class="math inline">\(\mathrm{K}\)</span>)</span> and <span style="display:inline-block;"><span class="math inline">\(Y\)</span></span> a resistance measured in ohm (<span style="display:inline-block;"><span class="math inline">\(\Omega\)</span>),</span> then we would write&nbsp;&nbsp;<span style="display:inline-block;"><span class="math inline">\(\mathrm{p}(X\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}x \mathbin{\mkern-0mu,\mkern-0mu}Y\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}y \nonscript\:\vert\nonscript\:\mathopen{} \mathsfit{I}) = \frac{0.001}{\mathrm{K}\,\Omega}\)</span>.</span></p>
</section>
<section id="sec-repr-joint-dens" class="level2 page-columns page-full" data-number="15.4">
<h2 data-number="15.4" class="anchored" data-anchor-id="sec-repr-joint-dens"><span class="header-section-number">15.4</span> Representation of joint probability densities</h2>
<p>For one-dimensional densities we discussed line-based representations and scatter plots (<a href="probability_distributions.html#sec-represent-dens">§ &nbsp;<span>14.4</span></a>). The first of these representations can be generalized to two-dimensional densities, leading to a <span class="blue"><strong>surface density plot</strong></span>. Below is the surface density plot for the probability density given by the formula</p>
<div class="column-page-inset-right">
<p><span class="math display">\[
\mathrm{p}(X\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}x \mathbin{\mkern-0mu,\mkern-0mu}Y\mathrel{\nonscript\mkern-2.5mu\textrm{\small=}\nonscript\mkern-2.5mu}y \nonscript\:\vert\nonscript\:\mathopen{} \mathsfit{I}) =
\tfrac{3}{8\sqrt{2}\,\pi}\, \mathrm{e}^{-\frac{1}{2} (x-1)^2-(y-1)^2}+
\tfrac{3}{32\,\pi}\,\mathrm{e}^{-\frac{1}{8} (x-2)^2-\frac{1}{2} (y-4)^2}+ \tfrac{1}{8\,\sqrt{5}\,\pi}\,\mathrm{e}^{-\frac{1}{4} (x-5)^2-\frac{1}{5} (y-2)^2}
\]</span></p>
</div>
<p><img src="surfaceXY.png" class="img-fluid" style="width:100.0%"></p>
<p>This kind of representation can be very neat, but it has two drawbacks: it sometimes hides features of the density from view, and it cannot be extended to three-dimensional densities.</p>
<p>The scatter plot instead does not hides features and can also be used for three-dimensional densities. It is, however, quantitatively more imprecise. Here is the scatter plot for the probability density given above:</p>
<p><img src="scatter_2d.png" class="img-fluid" style="width:100.0%"></p>
<p>As usual, the probability of a small region is proportional to the number of points in that region. If we had a joint density for <em>three</em> continuous quantities, its scatter plot would consist of three-dimensional clouds of points instead.</p>
<p>Clearly both kinds of representation have advantages and disadvantages.</p>
<section id="multi-line-plots" class="level3">
<h3 class="anchored" data-anchor-id="multi-line-plots">Multi-line plots</h3>
<p>Joint probability distributions over <em>one discrete</em> and <em>one continuous</em> quantity (or ordinal discrete with numerous values) can be represented as a collection of line plots: each line plot represent the probability density for the continuous quantity and a specific value of the discrete quantity.</p>
<p>Consider for instance the probability that the next patient who arrives at a particular hospital has a given age (continuous quantity) and may require urgent care or not (binary quantity). The joint probability density is depicted by the following plot:</p>
<p><img src="hospital_age_urgent.png" class="img-fluid" style="width:100.0%"></p>
<p>The area under the <span class="blue">solid blue curve</span> is equal to 0.75, and the area under the <span class="red">dashed red curve</span> is equal to 0.25. The two areas overlap. The total area under the two curse (the overlapping region is counted twice) is equal to 1, as it should be.</p>
<p>From the plot we see that the probability of urgent patients (<span class="red">dashed red curve</span>) is generally lower than non-urgent ones (<span class="blue">solid blue curve</span>). A possible disadvantage of this kind of plots is that the details, such as peaks, of the densities for some values of the discrete quantity may be barely visible.</p>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<i class="fa-solid fa-book" aria-label="book"></i> Study reading
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>§§&nbsp;5.3.2–5.3.3 of <a href="https://hvl.instructure.com/courses/25074/modules/items/664427"><em>Risk Assessment and Decision Analysis with Bayesian Networks</em></a></p></li>
<li><p>§&nbsp;12.2.2 of <a href="https://hvl.instructure.com/courses/25074/modules/items/660089"><em>Artificial Intelligence</em></a></p></li>
<li><p>§§&nbsp;5.1–5.5 of <a href="https://hvl.instructure.com/courses/25074/modules/items/675505"><em>Probability</em></a></p></li>
</ul>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./probability_distributions.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title"><span class="green">Probability distributions</span></span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./marginal_conditional_probability.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title"><span class="green">Marginal and conditional probabilities</span></span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>